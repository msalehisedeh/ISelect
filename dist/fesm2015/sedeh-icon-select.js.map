{"version":3,"file":"sedeh-icon-select.js.map","sources":["ng://@sedeh/icon-select/src/app/iselect/components/iselect.component.ts","ng://@sedeh/icon-select/src/app/iselect/directives/iselect.directive.ts","ng://@sedeh/icon-select/src/app/iselect/iselect.module.ts"],"sourcesContent":["\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n\tComponent,\n\tViewContainerRef,\n\tInput,\n\tOutput,\n\tRenderer,\n\tHostListener,\n\tEventEmitter,\n\tViewChild,\n\tOnInit,\n\tElementRef} from \"@angular/core\";\n\nexport interface IconInfo {\n\tid?:number,\n\tname:string,\n\tvalue:string,\n\tlabel?:string,\n\tselected?:boolean,\n\tdisabled?:boolean\n}\n\nvar globalActiveDropdown:ISelect[] = [];\n\n@Pipe({name:'CSSImage'})\nexport class CSSImagePipe implements PipeTransform{\n\n  constructor(private sanitizer:DomSanitizer){}\n  transform(url: string,repeat?:boolean): any { \n\t  return this.sanitizer.bypassSecurityTrustStyle(\"url('\"+url+\"') \"+(repeat ? \"repeat\":\"no-repeat\")+\" 0 0 transparent\");\n  }\n}\n\n/*\n* Like a regular dropdown, we want to set/get selectedIndex, select items on arrow up/down, and select item on click.\n*/\n@Component({\n    selector:'i-select',\n\ttemplateUrl: 'iselect.component.html',\n\tstyleUrls: ['iselect.component.scss'],\n\tproviders: [CSSImagePipe]\n})\nexport class ISelect implements OnInit {\n\n\tpublic selectedIndex:number = 1;\n\t\n\t@ViewChild('iconBox', {read: ViewContainerRef}) private iconBox: ViewContainerRef;\n\t@ViewChild('iconContainer', {read: ViewContainerRef}) private iconContainer: ViewContainerRef;\n\t@ViewChild('searchIcon', {read: ViewContainerRef}) private searchIcon: ViewContainerRef;\n\t@ViewChild('searchInput', {read: ViewContainerRef}) private searchInput: ViewContainerRef;\n\t@ViewChild('searchButton', {read: ViewContainerRef}) private searchButton: ViewContainerRef;\n\t\n\t@Input(\"id\")\n\tpublic configID:string = \"\";\n\n\t@Input(\"name\")\n\tpublic configName:string = \"\";\n\n\t// showIconName should be handled by css from user\n\t// @Input(\"tile\")\n\t// private configTile:boolean=true;\n\n\t@Input(\"searchEnabled\")\n\tpublic searchEnabled:boolean=false;\n\n\t@Input(\"size\")\n\tpublic size:number = 3;\n\n\t@Input(\"multiselect\")\n\tpublic multiselect = false;\n\n\t// showIconName should be handled by css from user\n\t@Input(\"showIconName\")\n\tshowIconName = false;\n\t\n\t@Input(\"entries\")\n\tpublic configData:IconInfo[] = [];\n\t\n\tdisplayItems:IconInfo[] = [];\n\t\n\t@Output(\"onchange\")\n\tpublic onchange = new EventEmitter();\n\n\thighlightIndex=0;\n\tsearchedData:IconInfo[] = [];\n\n\n\tconfig ={\n\t\ttotalPage:1,\n\t\tcurrentPage:0,\n\t\topen:false,\n\t\tshowFooter:false,\n\t\thasError:false,\n\t\tisFocused:false,\n\t\tisSearch:false,\n\t\tloading:true,\n\t\tselectedItem:<IconInfo>null\n\t}\n\n\t@HostListener('window:click', ['$event'])\n\tonClick($event:KeyboardEvent) {\n\t\tif ($event.target !== this.iconBox.element.nativeElement  && this.config.open) {\n\t\t\tthis.toggleIconSelector();\n\t\t}\n\t}\n\n\tprivate el:HTMLElement;\n\n\tconstructor(el: ElementRef,private renderer: Renderer) {\n\t\tthis.el = el.nativeElement;\n\t}\n\n\tngOnInit() {\n\t\tthis.displayItems = this.configData;\n\t}\n\n\tkeyboardTracker($event:KeyboardEvent){\n\t\t$event.stopPropagation();\n\t\t$event.preventDefault();\n\t\tlet key = $event.charCode || $event.keyCode || 0;\n\n\t\tif(key===39 || key===40){//right or down arrow\n\t\t\tsetTimeout(()=>{\n\t\t\t\tlet index = this.highlightIndex;\n\t\t\t\tif(index<this.displayItems.length-1){\n\t\t\t\t\tthis.highlightIcon(index+1);\n\t\t\t\t}else if(this.config.currentPage<this.config.totalPage){\n\t\t\t\t\tthis.next($event);\n\t\t\t\t}\n\t\t\t},66);\n\t\t} else if(key===37 || key===38){//left or up arrow\n\t\t\tsetTimeout(()=>{\n\t\t\t\tlet index = this.highlightIndex;\n\t\t\t\tif(index>0){\n\t\t\t\t\tthis.highlightIcon(index-1);\n\t\t\t\t}else if(this.config.currentPage>1){\n\t\t\t\t\tthis.prev($event);\n\t\t\t\t}\n\t\t\t},66);\n\t\t}\n\t\tif (key === 40) {\n\t\t\tthis.config.open = true;\n\t\t\tif (this.searchInput) {\n\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'focus', [])\n\t\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'select', []);\n\t\t\t\t}, 22);\n\t\t\t}\n\t\t} else if (key === 38 && this.highlightIndex === 0) {\n\t\t\tthis.config.open = false;\n\t\t\tthis.renderer.invokeElementMethod(this.searchButton.element.nativeElement, 'focus', []);\n\t\t}\n\t\treturn false;\n\t}\n\tperformSearch($event:KeyboardEvent, searchString:string){\n\t\tlet key = $event.charCode || $event.keyCode || 0;\n\t\tif(key>36 && key<41){\n\t\t\treturn this.keyboardTracker($event);\n\t\t}\n\t\tif (searchString === '') {\n\t\t\tthis.resetSearch();\n\t\t\treturn;\n\t\t}\n\t\t//this.searchIcon.removeClass('picker-icon-search');\n\t\t//this.searchIcon.addClass('picker-icon-cancel');\n\t\tthis.config.isSearch = true;\n\n\t\tthis.searchedData = [];\n\t\tfor(let i:number=0;i<this.configData.length;i++){\n\t\t\tlet info = this.configData[i];\n\t\t\tif (info.name.toLowerCase().indexOf(searchString.toLowerCase())>=0) {\n\t\t\t\tthis.searchedData.push(info);\n\t\t\t}\n\t\t}\n\t\tif(this.searchedData.length){\n\t\t\tthis.config.currentPage = 1;\n\t\t\tthis.highlightIndex = 0;\n\t\t\tthis.config.selectedItem = this.searchedData[0];\n\t\t\tthis.displayItems = this.searchedData;\n\t\t\tthis.highlightIcon(this.highlightIndex);\n\t\t}else {\n\t\t\tthis.config.selectedItem = null;\n\t\t}\n\t\tthis.renderIconContainer();\n\t}\n\tresetSearch(){\n\t\tthis.renderer.setElementAttribute(this.searchInput.element.nativeElement,'value','');\n\n\t\t//this.searchIcon.removeClass('picker-icon-cancel');\n\t\t//this.searchIcon.addClass('picker-icon-search');\n\n\t\tthis.config.currentPage = 1;\n\t\tthis.config.isSearch = false;\n\t\tthis.highlightIndex = 0;\n\t\tthis.displayItems = this.configData;\n\t\tthis.config.selectedItem = this.configData[0];\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\tthis.renderIconContainer();\n\t}\n\tnext($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage < this.config.totalPage) {\n\t\t\tthis.config.currentPage++;\n \t\t\tthis.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=0;\n\t\tthis.highlightIcon(this.highlightIndex);\n\t\t\n\t\treturn false;\n\t}\n\tprev($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage > 1) {\n\t\t\tthis.config.currentPage--;\n \t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=this.size-1;\n\t\tthis.highlightIcon(this.highlightIndex);\n\t\t\n\t\treturn false;\n\t}\n\tlast($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage < this.config.totalPage) {\n\t\t\tthis.config.currentPage = this.config.totalPage;\n\t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=0;\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\treturn false;\n\t}\n\n\tfirst($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage > 1) {\n\t\t\tthis.config.currentPage = 1;\n\t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=this.size-1;\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\treturn false;\n\t}\n\trenderIconContainer(){\n\t\tthis.displayItems = (this.config.isSearch ? this.searchedData : this.configData);\n\t\tthis.config.totalPage = Math.ceil(this.displayItems.length / this.size);\n\t\t\n\t\tthis.config.showFooter = (this.config.totalPage > 1);\n\n\t\tlet offset = (this.config.currentPage - 1) * this.size;\n\n\t\tif(this.displayItems.length<1 ){\n\t\t\tthis.config.hasError = true;\n\t\t}else {\n\t\t\tthis.config.hasError = false;\n\t\t\tthis.displayItems = this.displayItems.slice(offset, offset + this.size);\n\t\t}\n\t}\n\ttoggleIconSelector(){\n\t\tthis.config.open = !this.config.open;\n\n\t\tif (this.config.open && this.searchEnabled) {\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'focus', []);\n\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'select', []);\n\t\t\t}, 20);\n\t\t}\n\t}\n\tprivate findSelectedIndex(){\n\t\tif(this.config.selectedItem){\n\t\tfor(let i:number=0;i<this.configData.length;i++){\n\t\t\tif(this.configData[i].id==this.config.selectedItem.id){\n\t\t\t\tthis.selectedIndex = i;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tselectIcon(index:number){\n\t\tif(this.displayItems){\n\t\t\tthis.config.selectedItem = this.displayItems[index];\n\t\t\tthis.findSelectedIndex();\n\t\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t}\n\t}\n\thighlightIcon(index:number){\n\t\tthis.highlightIndex = index;\n\t\tif(this.displayItems){\n\t\t\tthis.config.selectedItem = this.displayItems[this.highlightIndex];\n\t\t\tthis.findSelectedIndex();\n\t\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t}\n\t}\n\tpopIcons($event:any){\n\t\t$event.stopPropagation();\n\t\tfor(let i:number=0;i<globalActiveDropdown.length;i++){\n\t\t\tif(globalActiveDropdown[i]!=this && globalActiveDropdown[i].config.open){\n\t\t\t\tglobalActiveDropdown[i].toggleIconSelector();\n\t\t\t}\n\t\t}\n\t\tthis.toggleIconSelector();\n\t\treturn false;\n\t}\n\n\tngOnChanges(changes:any) {\n\t\tsetTimeout(()=>{\n\t\tfor(let i:number=0;i<this.configData.length;i++){this.configData[i].id= i}\n\t\n\t\tthis.config.currentPage = Math.ceil(this.selectedIndex/(this.size-1));\n\t\tthis.highlightIndex=this.selectedIndex-((this.config.currentPage-1)*this.size);\n\t\tthis.renderIconContainer();\n\n\t\tglobalActiveDropdown.push(this);\n\t\tif(this.config.totalPage>1){\n\t\t\tthis.config.loading = false;\n\t\t}\n\t\tthis.config.selectedItem = this.displayItems[this.highlightIndex];\n\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t},10);\n\t}\n\n}\n","import {\r\n    Directive,\r\n    ViewContainerRef,\r\n    ElementRef,\r\n    Input,\r\n    Output,\r\n    OnInit,\r\n\tComponentFactoryResolver,\r\n    ComponentRef,\r\n    EventEmitter,\r\n    EmbeddedViewRef\r\n} from '@angular/core';\r\n\r\nimport { ISelect } from '../components/iselect.component';\r\n\r\n@Directive({\r\n    selector: '[i-select]'\r\n})\r\nexport class ISelectDirective implements OnInit {\r\n    private data = [];\r\n\r\n\t@Input(\"searchEnabled\")\r\n\tpublic searchEnabled:boolean=false;\r\n\r\n    @Output(\"change\")\r\n    change = new EventEmitter();\r\n\r\n    constructor(\r\n        private viewRef: ViewContainerRef,\r\n        public el:ElementRef,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver\r\n    ) {\r\n    }\r\n    \r\n\tngOnInit() {\r\n        this.el.nativeElement.setAttribute(\"style\",\"display:none\")\r\n        setTimeout(()=>{\r\n            const list: HTMLCollection = this.el.nativeElement.children;\r\n            for(let i = 0; i < list.length; i++) {\r\n                const option = list[i];\r\n                if (option.nodeType === 1) {    \r\n                    this.data.push({\r\n                        value: option.getAttribute(\"value\"),\r\n                        selected: option.getAttribute(\"selected\"),\r\n                        disabled: option.getAttribute(\"disabled\"),\r\n                        name: option.innerHTML\r\n                    })    \r\n                }\r\n            }\r\n            let componentFactory = this.componentFactoryResolver.resolveComponentFactory(ISelect);\r\n            let componentRef: ComponentRef<any> = this.viewRef.createComponent(componentFactory);\r\n            const domElem = (componentRef.hostView as EmbeddedViewRef < any > ).rootNodes[0] as HTMLElement;\r\n            this.el.nativeElement.parentNode.appendChild(domElem);\r\n            const instance:ISelect = (<ISelect>componentRef.instance);\r\n            instance.searchEnabled = this.searchEnabled;\r\n            instance.configID = this.el.nativeElement.id+\"-iselect\";\r\n            instance.size = this.el.nativeElement.size;\r\n            instance.configName = this.el.nativeElement.name;\r\n            instance.onchange.subscribe(this.change);\r\n            instance.configData = this.data;\r\n            instance.ngOnInit();\r\n            instance.ngOnChanges(undefined);\r\n        }, 66)\r\n\t}\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule, DatePipe, CurrencyPipe, DecimalPipe, JsonPipe, SlicePipe, UpperCasePipe, LowerCasePipe } from '@angular/common';\r\n\r\nimport { ISelect, CSSImagePipe } from './components/iselect.component';\r\nimport { ISelectDirective } from './directives/iselect.directive'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ISelect,\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  exports: [\r\n    ISelect,\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  entryComponents: [\r\n    ISelect\r\n  ],\r\n  providers: [\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ISelectModule {}\r\n"],"names":[],"mappings":"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"}
