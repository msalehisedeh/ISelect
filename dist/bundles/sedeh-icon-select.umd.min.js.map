{"version":3,"sources":["ng://@sedeh/icon-select/src/app/iselect/components/iselect.component.ts","ng://@sedeh/icon-select/src/app/iselect/directives/iselect.directive.ts","ng://@sedeh/icon-select/src/app/iselect/iselect.module.ts"],"names":["globalActiveDropdown","CSSImagePipe","sanitizer","this","prototype","transform","url","repeat","bypassSecurityTrustStyle","Pipe","args","name","DomSanitizer","ISelect","el","renderer","EventEmitter","totalPage","currentPage","open","showFooter","hasError","isFocused","isSearch","loading","selectedItem","nativeElement","onClick","$event","config","toggleIconSelector","ngOnInit","displayItems","configData","keyboardTracker","_this","stopPropagation","preventDefault","key","charCode","keyCode","console","log","setTimeout","index","highlightIndex","length","highlightIcon","next","prev","performSearch","searchString","searchedData","i","info","toLowerCase","indexOf","push","renderIconContainer","resetSearch","setElementAttribute","searchInput","element","size","last","first","Math","ceil","offset","slice","searchEnabled","invokeElementMethod","findSelectedIndex","id","selectedIndex","selectIcon","onchange","emit","popIcons","ngOnChanges","changes","Component","selector","template","providers","ElementRef","Renderer","ViewChild","read","ViewContainerRef","Input","Output","HostListener","ISelectDirective","viewRef","componentFactoryResolver","setAttribute","list","children","option","nodeType","data","value","getAttribute","selected","disabled","innerHTML","componentFactory","resolveComponentFactory","componentRef","createComponent","domElem","rootNodes","parentNode","appendChild","instance","configID","configName","subscribe","change","undefined","Directive","ComponentFactoryResolver","ISelectModule","NgModule","imports","CommonModule","declarations","exports","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA"],"mappings":"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","sourcesContent":["\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n\tComponent,\n\tComponentFactory, \n\tReflectiveInjector,\n\tViewContainerRef,\n\tInput,\n\tOutput,\n\tRenderer,\n\tHostListener,\n\tEventEmitter,\n\tViewChild,\n\tOnInit,\n\tElementRef} from \"@angular/core\";\n\nexport interface IconInfo {\n\tid?:number,\n\tname:string,\n\tvalue:string,\n\tlabel?:string,\n\tselected?:boolean,\n\tdisabled?:boolean\n}\n\nvar globalActiveDropdown:ISelect[] = [];\n\n@Pipe({name:'CSSImage'})\nexport class CSSImagePipe implements PipeTransform{\n\n  constructor(private sanitizer:DomSanitizer){}\n  transform(url: string,repeat?:boolean): any { \n\t  return this.sanitizer.bypassSecurityTrustStyle(\"url('\"+url+\"') \"+(repeat ? \"repeat\":\"no-repeat\")+\" 0 0 transparent\");\n  }\n}\n\n/*\n* Like a regular dropdown, we want to set/get selectedIndex, select items on arrow up/down, and select item on click.\n*/\n@Component({\n    selector:'i-select',\n\ttemplateUrl: 'iselect.component.html',\n\tstyleUrls: ['iselect.component.scss'],\n\tproviders: [CSSImagePipe]\n})\nexport class ISelect implements OnInit {\n\n\tpublic selectedIndex:number = 1;\n\t\n\t@ViewChild('searchIcon', {read: ViewContainerRef}) private searchIcon: ViewContainerRef;\n\t@ViewChild('searchInput', {read: ViewContainerRef}) private searchInput: ViewContainerRef;\n\t@ViewChild('iconContainer', {read: ViewContainerRef}) private iconContainer: ViewContainerRef;\n\t\n\t@Input(\"id\")\n\tpublic configID:string = \"\";\n\n\t@Input(\"name\")\n\tpublic configName:string = \"\";\n\n\t// showIconName should be handled by css from user\n\t// @Input(\"tile\")\n\t// private configTile:boolean=true;\n\n\t@Input(\"searchEnabled\")\n\tpublic searchEnabled:boolean=false;\n\n\t@Input(\"size\")\n\tpublic size:number = 3;\n\n\t@Input(\"multiselect\")\n\tpublic multiselect = false;\n\n\t// showIconName should be handled by css from user\n\t@Input(\"showIconName\")\n\tshowIconName = false;\n\t\n\t@Input(\"entries\")\n\tpublic configData:IconInfo[] = [];\n\t\n\tdisplayItems:IconInfo[] = [];\n\t\n\t@Output(\"onchange\")\n\tpublic onchange = new EventEmitter();\n\n\thighlightIndex=0;\n\tsearchedData:IconInfo[] = [];\n\n\n\tconfig ={\n\t\ttotalPage:1,\n\t\tcurrentPage:0,\n\t\topen:false,\n\t\tshowFooter:false,\n\t\thasError:false,\n\t\tisFocused:false,\n\t\tisSearch:false,\n\t\tloading:true,\n\t\tselectedItem:<IconInfo>null\n\t}\n\n\t@HostListener('window:click', ['$event'])\n\tonClick($event:KeyboardEvent) {\n\t\tif (this.config.open) {\n\t\t\tthis.toggleIconSelector();\n\t\t}\n\t}\n\n\tprivate el:HTMLElement;\n\n\tconstructor(el: ElementRef,private renderer: Renderer) {\n\t\tthis.el = el.nativeElement;\n\t}\n\n\tngOnInit() {\n\t\tthis.displayItems = this.configData;\n\t}\n\n\tkeyboardTracker($event:KeyboardEvent){\n\t\t$event.stopPropagation();\n\t\t$event.preventDefault();\n\t\tlet key = $event.charCode || $event.keyCode || 0;\n\t\tconsole.log(key)\n\t\tif(key===39 || key===40){//right or down arrow\n\t\tsetTimeout(()=>{\n\t\t\tlet index = this.highlightIndex;\n\t\t\tif(index<this.displayItems.length-1){\n\t\t\t\tthis.highlightIcon(index+1);\n\t\t\t}else if(this.config.currentPage<this.config.totalPage){\n\t\t\t\tthis.next($event);\n\t\t\t}\n\t\t},66);\n\t\t}else if(key===37 || key===38){//left or up arrow\n\t\tsetTimeout(()=>{\n\t\t\tlet index = this.highlightIndex;\n\t\t\tif(index>0){\n\t\t\t\tthis.highlightIcon(index-1);\n\t\t\t}else if(this.config.currentPage>1){\n\t\t\t\tthis.prev($event);\n\t\t\t}\n\t\t},66);\n\t\t}\n\t\treturn false;\n\t}\n\tperformSearch($event:KeyboardEvent, searchString:string){\n\t\tlet key = $event.charCode || $event.keyCode || 0;\n\t\tif(key>36 && key<41){\n\t\t\treturn this.keyboardTracker($event);\n\t\t}\n\t\tif (searchString === '') {\n\t\t\tthis.resetSearch();\n\t\t\treturn;\n\t\t}\n\t\t//this.searchIcon.removeClass('picker-icon-search');\n\t\t//this.searchIcon.addClass('picker-icon-cancel');\n\t\tthis.config.isSearch = true;\n\n\t\tthis.searchedData = [];\n\t\tfor(let i:number=0;i<this.configData.length;i++){\n\t\t\tlet info = this.configData[i];\n\t\t\tif (info.name.toLowerCase().indexOf(searchString.toLowerCase())>=0) {\n\t\t\t\tthis.searchedData.push(info);\n\t\t\t}\n\t\t}\n\t\tif(this.searchedData.length){\n\t\t\tthis.config.currentPage = 1;\n\t\t\tthis.highlightIndex = 0;\n\t\t\tthis.config.selectedItem = this.searchedData[0];\n\t\t\tthis.displayItems = this.searchedData;\n\t\t\tthis.highlightIcon(this.highlightIndex);\n\t\t}else {\n\t\t\tthis.config.selectedItem = null;\n\t\t}\n\t\tthis.renderIconContainer();\n\t}\n\tresetSearch(){\n\t\tthis.renderer.setElementAttribute(this.searchInput.element.nativeElement,'value','');\n\n\t\t//this.searchIcon.removeClass('picker-icon-cancel');\n\t\t//this.searchIcon.addClass('picker-icon-search');\n\n\t\tthis.config.currentPage = 1;\n\t\tthis.config.isSearch = false;\n\t\tthis.highlightIndex = 0;\n\t\tthis.displayItems = this.configData;\n\t\tthis.config.selectedItem = this.configData[0];\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\tthis.renderIconContainer();\n\t}\n\tnext($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage < this.config.totalPage) {\n\t\t\tthis.config.currentPage++;\n \t\t\tthis.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=0;\n\t\tthis.highlightIcon(this.highlightIndex);\n\t\t\n\t\treturn false;\n\t}\n\tprev($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage > 1) {\n\t\t\tthis.config.currentPage--;\n \t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=this.size-1;\n\t\tthis.highlightIcon(this.highlightIndex);\n\t\t\n\t\treturn false;\n\t}\n\tlast($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage < this.config.totalPage) {\n\t\t\tthis.config.currentPage = this.config.totalPage;\n\t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=0;\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\treturn false;\n\t}\n\n\tfirst($event:any){\n\t\t$event.stopPropagation();\n\n\t\tif (this.config.currentPage > 1) {\n\t\t\tthis.config.currentPage = 1;\n\t\t    this.renderIconContainer();\n\t\t}\n\t\tthis.highlightIndex=this.size-1;\n\t\tthis.highlightIcon(this.highlightIndex);\n\n\t\treturn false;\n\t}\n\trenderIconContainer(){\n\t\tthis.displayItems = (this.config.isSearch ? this.searchedData : this.configData);\n\t\tthis.config.totalPage = Math.ceil(this.displayItems.length / this.size);\n\t\t\n\t\tthis.config.showFooter = (this.config.totalPage > 1);\n\n\t\tlet offset = (this.config.currentPage - 1) * this.size;\n\n\t\tif(this.displayItems.length<1 ){\n\t\t\tthis.config.hasError = true;\n\t\t}else {\n\t\t\tthis.config.hasError = false;\n\t\t\tthis.displayItems = this.displayItems.slice(offset, offset + this.size);\n\t\t}\n\t}\n\ttoggleIconSelector(){\n\t\tthis.config.open = !this.config.open;\n\n\t\tif (this.config.open && this.searchEnabled) {\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'focus', []);\n\t\t\t\tthis.renderer.invokeElementMethod(this.searchInput.element.nativeElement, 'select', []);\n\t\t\t}, 20);\n\t\t}\n\t}\n\tprivate findSelectedIndex(){\n\t\tif(this.config.selectedItem){\n\t\tfor(let i:number=0;i<this.configData.length;i++){\n\t\t\tif(this.configData[i].id==this.config.selectedItem.id){\n\t\t\t\tthis.selectedIndex = i;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tselectIcon(index:number){\n\t\tif(this.displayItems){\n\t\t\tthis.config.selectedItem = this.displayItems[index];\n\t\t\tthis.findSelectedIndex();\n\t\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t}\n\t}\n\thighlightIcon(index:number){\n\t\tthis.highlightIndex = index;\n\t\tif(this.displayItems){\n\t\t\tthis.config.selectedItem = this.displayItems[this.highlightIndex];\n\t\t\tthis.findSelectedIndex();\n\t\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t}\n\t}\n\tpopIcons($event:any){\n\t\t$event.stopPropagation();\n\t\tfor(let i:number=0;i<globalActiveDropdown.length;i++){\n\t\t\tif(globalActiveDropdown[i]!=this && globalActiveDropdown[i].config.open){\n\t\t\t\tglobalActiveDropdown[i].toggleIconSelector();\n\t\t\t}\n\t\t}\n\t\tthis.toggleIconSelector();\n\t\treturn false;\n\t}\n\n\tngOnChanges(changes:any) {\n\t\tsetTimeout(()=>{\n\t\tfor(let i:number=0;i<this.configData.length;i++){this.configData[i].id= i}\n\t\n\t\tthis.config.currentPage = Math.ceil(this.selectedIndex/(this.size-1));\n\t\tthis.highlightIndex=this.selectedIndex-((this.config.currentPage-1)*this.size);\n\t\tthis.renderIconContainer();\n\n\t\tglobalActiveDropdown.push(this);\n\t\tif(this.config.totalPage>1){\n\t\t\tthis.config.loading = false;\n\t\t}\n\t\tthis.config.selectedItem = this.displayItems[this.highlightIndex];\n\t\tthis.onchange.emit(this.config.selectedItem);\n\t\t},10);\n\t}\n\n}\n","import {\r\n    Directive,\r\n    ViewContainerRef,\r\n    ElementRef,\r\n    Input,\r\n    Output,\r\n    OnInit,\r\n\tComponentFactoryResolver,\r\n    ComponentRef,\r\n    EventEmitter,\r\n    EmbeddedViewRef\r\n} from '@angular/core';\r\n\r\nimport { ISelect } from '../components/iselect.component';\r\n\r\n@Directive({\r\n    selector: '[i-select]'\r\n})\r\nexport class ISelectDirective implements OnInit {\r\n    private data = [];\r\n\r\n\t@Input(\"searchEnabled\")\r\n\tpublic searchEnabled:boolean=false;\r\n\r\n    @Output(\"change\")\r\n    change = new EventEmitter();\r\n\r\n    constructor(\r\n        private viewRef: ViewContainerRef,\r\n        public el:ElementRef,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver\r\n    ) {\r\n    }\r\n    \r\n\tngOnInit() {\r\n        this.el.nativeElement.setAttribute(\"style\",\"display:none\")\r\n        setTimeout(()=>{\r\n            const list: HTMLCollection = this.el.nativeElement.children;\r\n            for(let i = 0; i < list.length; i++) {\r\n                const option = list[i];\r\n                if (option.nodeType === 1) {    \r\n                    this.data.push({\r\n                        value: option.getAttribute(\"value\"),\r\n                        selected: option.getAttribute(\"selected\"),\r\n                        disabled: option.getAttribute(\"disabled\"),\r\n                        name: option.innerHTML\r\n                    })    \r\n                }\r\n            }\r\n            let componentFactory = this.componentFactoryResolver.resolveComponentFactory(ISelect);\r\n            let componentRef: ComponentRef<any> = this.viewRef.createComponent(componentFactory);\r\n            const domElem = (componentRef.hostView as EmbeddedViewRef < any > ).rootNodes[0] as HTMLElement;\r\n            this.el.nativeElement.parentNode.appendChild(domElem);\r\n            const instance:ISelect = (<ISelect>componentRef.instance);\r\n            instance.searchEnabled = this.searchEnabled;\r\n            instance.configID = this.el.nativeElement.id+\"-iselect\";\r\n            instance.size = this.el.nativeElement.size;\r\n            instance.configName = this.el.nativeElement.name;\r\n            instance.onchange.subscribe(this.change);\r\n            instance.configData = this.data;\r\n            instance.ngOnInit();\r\n            instance.ngOnChanges(undefined);\r\n        }, 66)\r\n\t}\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule, DatePipe, CurrencyPipe, DecimalPipe, JsonPipe, SlicePipe, UpperCasePipe, LowerCasePipe } from '@angular/common';\r\n\r\nimport { ISelect, CSSImagePipe } from './components/iselect.component';\r\nimport { ISelectDirective } from './directives/iselect.directive'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    ISelect,\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  exports: [\r\n    ISelect,\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  entryComponents: [\r\n    ISelect\r\n  ],\r\n  providers: [\r\n    CSSImagePipe,\r\n    ISelectDirective\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ISelectModule {}\r\n"]}